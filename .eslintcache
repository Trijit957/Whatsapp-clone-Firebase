[{"C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\App.js":"1","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\index.js":"2","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\Sidebar.js":"3","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\SidebarChat.js":"4","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\Chat.js":"5","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\Login.js":"6","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\StateProvider.js":"7","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\reducer.js":"8"},{"size":888,"mtime":1609392475547,"results":"9","hashOfConfig":"10"},{"size":645,"mtime":1609339892381,"results":"11","hashOfConfig":"10"},{"size":2310,"mtime":1609609871176,"results":"12","hashOfConfig":"10"},{"size":1643,"mtime":1609613819541,"results":"13","hashOfConfig":"10"},{"size":4174,"mtime":1609613152634,"results":"14","hashOfConfig":"10"},{"size":1234,"mtime":1609611611010,"results":"15","hashOfConfig":"10"},{"size":421,"mtime":1609340232955,"results":"16","hashOfConfig":"10"},{"size":429,"mtime":1609339595241,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},"2vz4pm",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"23"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"23"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\App.js",["39","40"],"import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Sidebar from './components/Sidebar';\nimport Chat from './components/Chat';\nimport Login from './components/Login';\nimport './App.css';\nimport { useStateValue } from './components/StateProvider';\n\nfunction App() {\n\n  const [{ user }, dispatch] = useStateValue(null);\n\n  return (\n\n    <div className=\"app\">\n      {!user ? (\n\n        <Login />\n\n      ) : (\n\n        <div className=\"app__body\">\n        <Router>\n         <Sidebar />\n          <Switch>\n            \n            <Route path=\"/rooms/:roomID\">\n               <Chat />\n            </Route>\n\n            <Route path=\"/\" exact>\n              {/* <Chat /> */}\n            </Route>\n\n          </Switch>\n        </Router>\n          \n         \n      </div>\n\n      )}\n      \n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\index.js",[],["41","42"],"C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\Sidebar.js",["43"],"import React, { useState, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined'\r\nimport SidebarChat from './SidebarChat';\r\nimport '../styles/Sidebar.css';\r\nimport db from '../firebase/firebase';\r\nimport { useStateValue } from './StateProvider';\r\n\r\n\r\nconst Sidebar = () => {\r\n\r\n   const [rooms, setRooms] = useState([]);\r\n   const [{user}, dispatch] = useStateValue();\r\n   \r\n\r\n   useEffect(() => {\r\n\r\n       const unsubscribe = db.collection('rooms').onSnapshot((snapshot) => {\r\n          setRooms(snapshot.docs.map((doc) => {\r\n               return {\r\n                  id: doc.id,\r\n                  data: doc.data()\r\n               }\r\n          }));\r\n       });\r\n\r\n      return () => {\r\n          unsubscribe();\r\n       }\r\n\r\n   }, []);\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n           <div className=\"sidebar__header\">\r\n              <Avatar src={user.photoURL} />\r\n            <div className=\"sidebar__headerRight\">\r\n               <IconButton>\r\n                 <DonutLargeIcon />\r\n               </IconButton>\r\n\r\n               <IconButton>\r\n                  <ChatIcon />\r\n               </IconButton>\r\n                  \r\n               <IconButton>\r\n                   <MoreVertIcon />\r\n               </IconButton>\r\n            </div>\r\n           </div>\r\n\r\n           <div className=\"sidebar__search\">\r\n               <div className=\"sidebar__searchContainer\">\r\n                 <SearchOutlinedIcon />\r\n                 <input type=\"text\" placeholder=\"Search or start new chat\" />\r\n               </div>         \r\n          </div>\r\n\r\n           <div className=\"sidebar__chats\">\r\n              <SidebarChat addNewChat />\r\n              {\r\n                 rooms.map((room) => {\r\n                    return (\r\n                      <SidebarChat key={room.id} id={room.id} name={room.data.name} photo={room.data.photo} />\r\n                    );\r\n                    \r\n                 })\r\n              }\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar;\r\n","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\SidebarChat.js",["44","45"],"C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\Chat.js",["46"],"import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport '../styles/Chat.css';\r\nimport ScrollBottom from './ScrollBottom';\r\nimport db from '../firebase/firebase';\r\nimport { useStateValue } from './StateProvider';\r\nimport firebase from 'firebase';\r\n\r\n\r\nconst Chat = () => {\r\n    const [seed, setSeed] = useState('');\r\n    const [input, setInput] = useState('');\r\n    const { roomID } = useParams();\r\n    const [roomName, setRoomName] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n    const [{user}, dispatch] = useStateValue();\r\n\r\n    useEffect(() => {\r\n      if(roomID)\r\n      {\r\n        db.collection('rooms')\r\n          .doc(roomID)\r\n          .onSnapshot(snapshot => setRoomName(snapshot.data().name));\r\n\r\n        db.collection('rooms')\r\n          .doc(roomID)\r\n          .collection('messages')\r\n          .orderBy('timestamp','asc')\r\n          .onSnapshot(snapshot => setMessages(snapshot.docs.map(doc => doc.data())));\r\n      }\r\n    \r\n    }, [roomID]);\r\n   \r\n    useEffect(() => {\r\n        setSeed(Math.floor(Math.random() * 5000));\r\n    }, [roomID]);\r\n\r\n    const sendMessage = (e) => {\r\n      e.preventDefault();\r\n      db.collection('rooms')\r\n        .doc(roomID)\r\n        .collection('messages')\r\n        .add({\r\n          name: user.displayName,\r\n          email: user.email,\r\n          message: input,\r\n          timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n      setInput('');\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n           <div className=\"chat__header\">\r\n             <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\r\n             <div className=\"chat__headerInfo\">\r\n               <h3>{roomName}</h3>\r\n               <p>Last seen at{\" \"}\r\n               {\r\n                 new Date(messages[messages.length - 1]?.timestamp?.toDate()).toUTCString()\r\n               }\r\n               </p>\r\n             </div>\r\n             <div className=\"chat__headerRight\">\r\n             <IconButton>\r\n                 <SearchOutlinedIcon />\r\n               </IconButton>\r\n\r\n                  \r\n               <IconButton>\r\n                   <MoreVertIcon />\r\n               </IconButton>\r\n             </div>\r\n           </div>\r\n\r\n           <div className=\"chat__body\">\r\n              {\r\n                messages.map(message => (\r\n                  <p className={`chat__message ${message.email === user.email && 'chat__receiver'}`}>\r\n                  <span className=\"chat__name\">{message.name}</span>\r\n                    {message.message}\r\n                    <span className=\"chat__timestamp\">\r\n                      {new Date(message.timestamp?.toDate()).toUTCString()}\r\n                    </span>\r\n                  </p>\r\n                ))\r\n              }\r\n           \r\n           \r\n             <ScrollBottom />           \r\n           </div>\r\n\r\n           <div className=\"chat__footer\">\r\n           <IconButton>\r\n             <InsertEmoticonIcon />\r\n           </IconButton>\r\n             \r\n           <IconButton>\r\n             <AttachFileIcon />\r\n           </IconButton> \r\n              <form>\r\n                <input \r\n                   type=\"text\" \r\n                   placeholder=\"Type a message...\"\r\n                   value={input}\r\n                   onChange={(e) => {\r\n                     setInput(e.target.value)\r\n                   }}\r\n               />\r\n                <button type=\"submit\" onClick={sendMessage}>Send a Message</button>\r\n              </form>\r\n\r\n            <IconButton>\r\n                <MicIcon />\r\n             </IconButton>\r\n              \r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Chat;\r\n// snapshot => setMessages(snapshot.docs.map(doc => doc.data()))","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\Login.js",["47","48"],"import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport '../styles/Login.css';\r\nimport db, { auth, provider } from '../firebase/firebase';\r\nimport { useStateValue } from './StateProvider';\r\nimport { actionTypes } from './reducer';\r\n\r\n\r\nconst Login = () => {\r\n    const [{user}, dispatch] = useStateValue();\r\n\r\n    const signIN = () => {\r\n       auth.signInWithPopup(provider).then(result => {\r\n           console.log(result);\r\n           dispatch({\r\n               type: actionTypes.SET_USER,\r\n               user: result.user\r\n           });\r\n       }).catch(err => alert(err.message)); \r\n       \r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login__container\">\r\n              <img src=\"https://assets.stickpng.com/images/580b57fcd9996e24bc43c543.png\"\r\n                   alt=\"logo\"\r\n                   height=\"50\"\r\n                   width=\"50\"\r\n              />\r\n\r\n              <div className=\"login__text\">\r\n                 <h1>Sign In to Whatsapp</h1>\r\n              </div>\r\n\r\n              <Button type=\"submit\" onClick={signIN}>\r\n                 Sign In with Google\r\n              </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\StateProvider.js",[],"C:\\Users\\MY PC\\OneDrive\\Desktop\\MERN\\Whatsapp-clone\\whatsapp-clone-firebase\\src\\components\\reducer.js",[],{"ruleId":"49","severity":1,"message":"50","line":1,"column":17,"nodeType":"51","messageId":"52","endLine":1,"endColumn":25},{"ruleId":"49","severity":1,"message":"53","line":11,"column":20,"nodeType":"51","messageId":"52","endLine":11,"endColumn":28},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"49","severity":1,"message":"53","line":17,"column":19,"nodeType":"51","messageId":"52","endLine":17,"endColumn":27},{"ruleId":"49","severity":1,"message":"58","line":12,"column":13,"nodeType":"51","messageId":"52","endLine":12,"endColumn":17},{"ruleId":"49","severity":1,"message":"53","line":12,"column":20,"nodeType":"51","messageId":"52","endLine":12,"endColumn":28},{"ruleId":"49","severity":1,"message":"53","line":23,"column":20,"nodeType":"51","messageId":"52","endLine":23,"endColumn":28},{"ruleId":"49","severity":1,"message":"59","line":4,"column":8,"nodeType":"51","messageId":"52","endLine":4,"endColumn":10},{"ruleId":"49","severity":1,"message":"58","line":10,"column":13,"nodeType":"51","messageId":"52","endLine":10,"endColumn":17},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","no-native-reassign",["60"],"no-negated-in-lhs",["61"],"'user' is assigned a value but never used.","'db' is defined but never used.","no-global-assign","no-unsafe-negation"]